{
  "hash": "c1b1ef3f2080f411448cbafe1dbd09d2",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Climbing Benchmark Analyzer\"\nserver: shiny\nformat: \n  dashboard:\n    scrolling: false \n    orientation: rows\n---\n\n::: {.cell msg='false' context='setup'}\n\n:::\n\n\n## {.toolbar}\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"form-group shiny-input-container\" style=\"width:400px;\">\n<label class=\"control-label\" id=\"peak_force-label\" for=\"peak_force\">Upload Peak Force</label>\n<div class=\"input-group\">\n<label class=\"input-group-btn input-group-prepend\">\n<span class=\"btn btn-default btn-file\">\nBrowse...\n<input id=\"peak_force\" class=\"shiny-input-file\" name=\"peak_force\" type=\"file\" style=\"position: absolute !important; top: -99999px !important; left: -99999px !important;\" accept=\".csv\"/>\n</span>\n</label>\n<input type=\"text\" class=\"form-control\" placeholder=\"No file selected\" readonly=\"readonly\"/>\n</div>\n<div id=\"peak_force_progress\" class=\"progress active shiny-file-input-progress\">\n<div class=\"progress-bar\"></div>\n</div>\n</div>\n```\n\n:::\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"form-group shiny-input-container\">\n<label class=\"control-label\" id=\"user_weight-label\" for=\"user_weight\">User Weight:</label>\n<input id=\"user_weight\" type=\"number\" class=\"shiny-input-number form-control\" value=\"150\"/>\n</div>\n```\n\n:::\n:::\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"peak_force_grip_select\" class=\"shiny-html-output\"></div>\n```\n\n:::\n:::\n\n\n## Input {.tabset height = 40%}\n\n\n::: {.cell title='LBF'}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-widget-output shiny-report-size shiny-report-theme html-fill-item\" id=\"peak_force_trace\" style=\"width:100%;height:400px;\"></div>\n```\n\n:::\n:::\n\n::: {.cell title='% Body Weight'}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-widget-output shiny-report-size shiny-report-theme html-fill-item\" id=\"peak_force_trace_wadj\" style=\"width:100%;height:400px;\"></div>\n```\n\n:::\n:::\n\n\n## Input {.flow height = 40%}\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"plotly html-widget html-widget-output shiny-report-size shiny-report-theme html-fill-item\" id=\"peak_force_boxplot\" style=\"width:100%;height:400px;\"></div>\n```\n\n:::\n:::\n\n::: {.cell context='server'}\n\n:::\n\npreserve95ad2cc5f56427cd\npreserve731bcecd40cbd3b6\npreserve5c991f99c4cd0548\n\n<!--html_preserve-->\n<script type=\"application/shiny-prerendered\" data-context=\"dependencies\">\n{\"type\":\"list\",\"attributes\":{},\"value\":[{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.6.4\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"www\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.6.4\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly-binding\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"4.10.3\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[false]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"4.10.3\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.6.4\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"www\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.6.4\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly-binding\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"4.10.3\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[false]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"4.10.3\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.6.4\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"www\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[true]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.6.4\"]}]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"name\",\"version\",\"src\",\"meta\",\"script\",\"stylesheet\",\"head\",\"attachment\",\"package\",\"all_files\",\"pkgVersion\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"html_dependency\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly-binding\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"4.10.3\"]},{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"file\"]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"htmlwidgets\"]}]},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly.js\"]},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"NULL\"},{\"type\":\"character\",\"attributes\":{},\"value\":[\"plotly\"]},{\"type\":\"logical\",\"attributes\":{},\"value\":[false]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"4.10.3\"]}]}]}\n</script>\n<!--/html_preserve-->\n<!--html_preserve-->\n<script type=\"application/shiny-prerendered\" data-context=\"execution_dependencies\">\n{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"packages\"]}},\"value\":[{\"type\":\"list\",\"attributes\":{\"names\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"packages\",\"version\"]},\"class\":{\"type\":\"character\",\"attributes\":{},\"value\":[\"data.frame\"]},\"row.names\":{\"type\":\"integer\",\"attributes\":{},\"value\":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91]}},\"value\":[{\"type\":\"character\",\"attributes\":{},\"value\":[\"backports\",\"base\",\"base64url\",\"bsicons\",\"bslib\",\"cachem\",\"callr\",\"cli\",\"codetools\",\"colorspace\",\"compiler\",\"crosstalk\",\"data.table\",\"datasets\",\"digest\",\"dplyr\",\"ellipsis\",\"evaluate\",\"fansi\",\"fastmap\",\"forcats\",\"fs\",\"gargle\",\"gauntlet\",\"generics\",\"ggplot2\",\"glue\",\"googledrive\",\"graphics\",\"grDevices\",\"grid\",\"gtable\",\"here\",\"hms\",\"htmltools\",\"htmlwidgets\",\"httpuv\",\"httr\",\"igraph\",\"janitor\",\"jquerylib\",\"jsonlite\",\"knitr\",\"later\",\"lazyeval\",\"lifecycle\",\"lubridate\",\"magrittr\",\"methods\",\"mime\",\"munsell\",\"pillar\",\"pkgconfig\",\"plotly\",\"processx\",\"promises\",\"ps\",\"purrr\",\"R6\",\"Rcpp\",\"reactable\",\"reactablefmtr\",\"readr\",\"renv\",\"rlang\",\"rmarkdown\",\"rprojroot\",\"rstudioapi\",\"sass\",\"scales\",\"shiny\",\"snakecase\",\"stats\",\"stringi\",\"stringr\",\"targets\",\"tibble\",\"tidyr\",\"tidyselect\",\"tidyverse\",\"timechange\",\"tools\",\"tzdb\",\"utf8\",\"utils\",\"vctrs\",\"viridisLite\",\"withr\",\"xfun\",\"xtable\",\"yaml\"]},{\"type\":\"character\",\"attributes\":{},\"value\":[\"1.4.1\",\"4.3.2\",\"1.4\",\"0.1.2\",\"0.6.1\",\"1.0.8\",\"3.7.3\",\"3.6.2\",\"0.2-19\",\"2.1-0\",\"4.3.2\",\"1.2.1\",\"1.14.10\",\"4.3.2\",\"0.6.33\",\"1.1.4\",\"0.3.2\",\"0.23\",\"1.0.6\",\"1.1.1\",\"1.0.0\",\"1.6.3\",\"1.5.2\",\"0.1.0\",\"0.1.3\",\"3.4.4\",\"1.6.2\",\"2.1.1\",\"4.3.2\",\"4.3.2\",\"4.3.2\",\"0.3.4\",\"1.0.1\",\"1.1.3\",\"0.5.7\",\"1.6.4\",\"1.6.13\",\"1.4.7\",\"1.6.0\",\"2.2.0\",\"0.1.4\",\"1.8.8\",\"1.45\",\"1.3.2\",\"0.2.2\",\"1.0.4\",\"1.9.3\",\"2.0.3\",\"4.3.2\",\"0.12\",\"0.5.0\",\"1.9.0\",\"2.0.3\",\"4.10.3\",\"3.8.3\",\"1.2.1\",\"1.7.5\",\"1.0.2\",\"2.5.1\",\"1.0.11\",\"0.4.4\",\"2.0.0\",\"2.1.4\",\"1.0.3\",\"1.1.2\",\"2.25\",\"2.0.4\",\"0.15.0\",\"0.4.8\",\"1.3.0\",\"1.8.0\",\"0.11.1\",\"4.3.2\",\"1.8.3\",\"1.5.1\",\"1.4.0\",\"3.2.1\",\"1.3.0\",\"1.2.0\",\"2.0.0\",\"0.2.0\",\"4.3.2\",\"0.4.0\",\"1.2.4\",\"4.3.2\",\"0.6.5\",\"0.4.2\",\"2.5.2\",\"0.41\",\"1.8-4\",\"2.3.8\"]}]}]}\n</script>\n<!--/html_preserve-->",
    "supporting": [
      "climbing_analyzer_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {
      "preserve5c991f99c4cd0548": "\n<script type=\"application/shiny-prerendered\" data-context=\"server-extras\">\nojs_define <- function(..., .session = shiny::getDefaultReactiveDomain()) {\n  quos <- rlang::enquos(...)\n  vars <- rlang::list2(...)\n  nm <- names(vars)\n  if (is.null(nm)) {\n    nm <- rep_len(\"\", length(vars))\n  }\n  mapply(function(q, nm, val) {\n    # Infer name, if possible\n    if (nm == \"\") {\n      tryCatch({\n        nm <- rlang::as_name(q)\n      }, error = function(e) {\n        code <- paste(collapse = \"\\n\", deparse(rlang::f_rhs(q)))\n        stop(\"ojs_define() could not create a name for the argument: \", code)\n      })\n    }\n    .session$output[[nm]] <- val\n    outputOptions(.session$output, nm, suspendWhenHidden = FALSE)\n    .session$sendCustomMessage(\"ojs-export\", list(name = nm))\n    NULL\n  }, quos, nm, vars, SIMPLIFY = FALSE, USE.NAMES = FALSE)\n  invisible()\n}\n</script>\n",
      "preserve731bcecd40cbd3b6": "\n<script type=\"application/shiny-prerendered\" data-context=\"server\">\npeak_force = shiny::reactive({\n  req(input$peak_force)\n  file <- input$peak_force\n  ext <- tools::file_ext(file$datapath)\n  \n  validate(need(ext == \"csv\", \"Please upload a csv file\"))\n  \n  temp_data = read.csv(file$datapath)\n  \n  assign(\"butt\", temp_data, envir = .GlobalEnv)\n  \n  temp_data  = temp_data %>% \n    process_peak_force()\n  \n  return(temp_data)\n})\n\n\npeak_force_shared = shiny::reactive({\n  req(input$user_weight)\n  \n  temp_shared = peak_force() %>% \n    mutate(across(\n      c(value, rep_total, mean_grip_type_hand)\n      ,~.x/input$user_weight, .names = \"{.col}_wadj\")) %>% \n    mutate(value_wadj = value/input$user_weight\n           ,value) %>%  \n    SharedData$new()\n  \n  return(temp_shared)\n})\n\noutput$table_peak_force <- renderReactable({\n  \n  tmp_table = peak_force() %>% \n    reactable()\n\n  return(tmp_table)\n})\n\n\noutput$peak_force_grip_select = renderUI({\n  crosstalk:::filter_checkbox(id = \"peak_force\", label = \"Grip Type: \", peak_force_shared(), ~grip_type, inline = T)\n})\n\noutput$peak_force_trace = renderPlotly({\n  tmp_plot = peak_force_shared() %>% \n      plot_ly(\n        x = ~rep_number, y = ~value , color = ~hand\n        ,text = ~label, hoverinfo = \"text\"\n        ,split = ~grip_type\n        ,mode = 'lines+markers') %>%\n      layout(\n        yaxis = list(title = \"Max Force (lbf)\")\n        ,xaxis = list(title = \"Rep Number\")\n      ) %>% \n    layout(legend = list(orientation = 'h',x = 0, y = 1.11)) %>% \n    config(displaylogo = FALSE, modeBarButtonsToRemove = c(\"toImage\", \"drawrect\", \"lasso2d\", \"zoom2d\"))\n  \n  return(tmp_plot)\n})\n\n\noutput$peak_force_trace_wadj = renderPlotly({\n  tmp_plot = peak_force_shared() %>% \n      plot_ly(\n        x = ~rep_number, y = ~value_wadj , color = ~hand\n        ,text = ~label, hoverinfo = \"text\"\n        ,split = ~grip_type\n        ,mode = 'lines+markers') %>%\n      layout(\n        yaxis = list(title = \"% Body Weight\")\n        ,xaxis = list(title = \"Rep Number\")\n      ) %>% \n    layout(legend = list(orientation = 'h',x = 0, y = 1.11)) %>% \n    config(displaylogo = FALSE, modeBarButtonsToRemove = c(\"toImage\", \"drawrect\", \"lasso2d\", \"zoom2d\"))\n  \n  return(tmp_plot)\n})\n\noutput$peak_force_boxplot = renderPlotly({\n  tmp_plot = (\n    peak_force_shared()  %>%\n      ggplot() + \n      geom_boxplot(aes(grip_type, value)) + \n      geom_point(aes(grip_type, value, color = session_type, size = session_type)) + \n      scale_size_discrete(range = c(4, 2)) +\n      labs(color = \"Session\", size = \"Session\"\n           ,y = \"Max Force (lbf)\", x = \"\") + \n      theme(legend.position = \"top\") \n      # facet_grid(rows = vars(grip_type))\n  ) %>% \n    ggplotly() %>% \n    layout(legend = list(orientation = 'h',x = 0, y = 1.1)) %>% \n    config(displaylogo = FALSE, modeBarButtonsToRemove = c(\"toImage\", \"drawrect\", \"lasso2d\", \"zoom2d\"))\n  \n  return(tmp_plot)\n})\n\n\n\n</script>\n",
      "preserve95ad2cc5f56427cd": "\n<script type=\"application/shiny-prerendered\" data-context=\"server-start\">\nlibrary(magrittr)\nlibrary(shiny) \nlibrary(lubridate)\nlibrary(reactable) \nlibrary(reactablefmtr) \nlibrary(crosstalk) \nlibrary(plotly)\nlibrary(bslib) \nlibrary(bsicons) \nlibrary(htmltools) \nlibrary(gauntlet)\n\nlibrary(tidyverse, quietly = TRUE)\n\ntargets::tar_source(files = \"R\")\n\n</script>\n"
    },
    "postProcess": true
  }
}